[gd_scene load_steps=16 format=3 uid="uid://7oiwvues2n0o"]

[ext_resource type="PackedScene" uid="uid://cgm23fgc1vv2d" path="res://Weapons/laser_weapon.tscn" id="1_t4lbi"]
[ext_resource type="Texture2D" uid="uid://bdgg5y7krqg6x" path="res://Sprites/Weapons/laser_gun.png" id="2_svrwe"]
[ext_resource type="Texture2D" uid="uid://bffahbv1b56gk" path="res://Sprites/Weapons/laser_gun_shot.png" id="3_vt6nd"]
[ext_resource type="AudioStream" uid="uid://cdu5lxt207bem" path="res://Audio/GunShots/Guns/laser_gun.mp3" id="4_f7npq"]

[sub_resource type="AtlasTexture" id="AtlasTexture_umuxy"]
atlas = ExtResource("3_vt6nd")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_b1gjb"]
atlas = ExtResource("3_vt6nd")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_ghmxv"]
atlas = ExtResource("3_vt6nd")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_pvjyc"]
atlas = ExtResource("3_vt6nd")
region = Rect2(48, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_07hcl"]
atlas = ExtResource("3_vt6nd")
region = Rect2(64, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_e6njh"]
atlas = ExtResource("3_vt6nd")
region = Rect2(80, 0, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_ndd43"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_svrwe")
}],
"loop": true,
"name": &"Disable",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_umuxy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b1gjb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ghmxv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pvjyc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_07hcl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e6njh")
}],
"loop": false,
"name": &"Shot",
"speed": 24.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3qbtn"]
size = Vector2(160, 80)

[sub_resource type="Animation" id="Animation_1voee"]
resource_name = "Attack"
length = 0.3
step = 0.01

[sub_resource type="Animation" id="Animation_naptb"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_7ltpk"]
_data = {
"Attack": SubResource("Animation_1voee"),
"RESET": SubResource("Animation_naptb")
}

[node name="LaserGun" instance=ExtResource("1_t4lbi")]
ID = 15
damage = 50
cooldown = 0.1
maximum_ammo_amount = 1000
ammo = 1000
length_from_player = 75.0
shake_strength = 10.0
shake_time = 10.0
main_animation = &"Disable"
attack_animation = &"Shot"
player_animation = &"Attack"

[node name="AnimatedSprite2D" parent="Pivot" index="0"]
texture_filter = 1
scale = Vector2(4, 4)
sprite_frames = SubResource("SpriteFrames_ndd43")
animation = &"Shot"
frame = 5
frame_progress = 1.0

[node name="HitBox" parent="." index="1"]
shape = SubResource("RectangleShape2D_3qbtn")

[node name="AnimationPlayer" parent="." index="3"]
libraries = {
"": SubResource("AnimationLibrary_7ltpk")
}

[node name="AudioPlayer" parent="." index="4"]
stream = ExtResource("4_f7npq")

[node name="ShotPosition" parent="." index="5"]
position = Vector2(109, -3)

[node name="RayCast" parent="." index="6"]
position = Vector2(32, -3)
target_position = Vector2(2000, 0)
collision_mask = 7

[node name="Laser" parent="." index="7"]
width = 70.0
